<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>R1å¢å¼º</title>
    <style>
        body{
        background-size:100% 100%;
        }
    </style>
</head>
<body  id="mydiv">
<!-- æ¨¡æ€æ¡† -->
<div class="modal-dialog modal-dialog-centered">
<div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">æç¤º</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="å…³é—­">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="modalText">
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal">ç¡®è®¤</button>
      </div>
    </div>
  </div>
</div>
</div>




<div class="position-fixed bottom-0 right-0 p-3" style="z-index: 5; right: 0; bottom: 0;">
    <div id="liveToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" data-delay="2000">
        <div class="toast-header">
            <strong class="mr-auto">å‹æƒ…æç¤º</strong>
            <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="toast-body">
            è®¾ç½®æˆåŠŸï¼
        </div>
    </div>
</div>

<div class="container">
    <div class="alert alert-success" role="alert">
        R1è°ƒéŸ³å° ä½œè€…:sallai    å¼€å‘ä¸æ˜“ï¼Œè½¬è½½,å‘å¸–è¯·æ³¨æ˜ä½œè€…ï¼ï¼ï¼ï¼ã€‚
    </div>
    <div class="row justify-content-md-center">
        <div class="col col-lg-2">

        </div>
        <div class="col-md-12">
            <form>
                <div class="form-group">
                    <label for="formControlRange">ä½éŸ³å¢å¼º</label><span style="font-weight:bold; color:green" id="value"></span>
                    <input type="range" min="0" step="100" max="1000" class="form-control-range" id="formControlRange">
                </div>
            </form>
            <button type="button" class="btn btn-outline-primary" id="hiTimeSetting">æŠ¥æ—¶è®¾ç½®</button>

<!--ä¸‹æ‹‰è¡¨å•-->
<!--            <p>-->
<!--                <a class="btn btn-primary" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">-->
<!--                    Link with href-->
<!--                </a>-->
<!--                <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">-->
<!--                    Button with data-target-->
<!--                </button>-->
<!--            </p>-->
            <div class="collapse" id="collapseExample" >
                <div class="card" style="width: 100%;margin-top:5px">
                        <div class="card-header">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" value=1 class="custom-control-input" id="hiTimeState">
                                <label class="custom-control-label" for="hiTimeState" >æ€»å¼€å…³</label>
                            </div>
                        </div>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item" style="padding:5px 0">

                                <div class="input-group mb-3" style="margin-bottom: 0!important">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">èµ·æ—¶é—´</span>
                                    </div>
                                    <input type="number" id="hiTimeStartTime" max="12" min="0" class="form-control" placeholder="0-12" aria-label="0-12" aria-describedby="basic-addon1">
                                </div>

                            </li>
                            <li class="list-group-item" style="padding:5px 0">
                                <div class="input-group mb-3" style="margin-bottom: 0!important">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" >æ­¢æ—¶é—´</span>
                                    </div>
                                    <input type="number" id="hiTimeStopTime" max="24" min="12" class="form-control" placeholder="12-24" aria-label="12-24" aria-describedby="basic-addon1">
                                </div>
                            </li>
                            <li class="list-group-item" style="padding:5px 0">
                                <div class="input-group mb-3" style="margin-bottom: 0!important">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">æŠ¥æ—¶éŸ³é‡ 0-15</span>
                                    </div>
                                    <input type="number"  id="hiTimeVal" max="15" min="0" class="form-control" placeholder="0-15" aria-label="0-15" aria-describedby="basic-addon1" value=4>
                                </div>
                            </li>
                            <button type="button" class="btn btn-success" id="saveHiTime">ä¿å­˜</button>
                        </ul>
                    </div>


                </div>

            <div class="col" style="margin-top:10px">
             <span style="color:green">ä¸Šä¼ è·¯å¾„:/sdcard/sallaiFile/</span>
            <form method="post"  enctype="multipart/form-data" action="/upload/file">
                <div class="form-group">
                    <div class="row">

                        <div>
                            <input type="file" class="form-control-file" id="upFile" name="file">
                        </div>
                        <div>
                            <button type="submit">ä¸Šä¼ </button>
                        </div>

                    </div>

                </div>
            </form>
            </div>



        <div style="position:relative;height:max-content" id="screenShot" >

            <img id="screen_img"   style="max-width:100%;max-height: 100%;z-index:80;top:0;left:0" src="/screen" />
            <div style="width:100%;height:100%;z-index:9999;position: absolute;top:0;left:0">
            </div>

        </div>

        <div class="row" style="width:100%" align="right">

            <div class="col"><button type="button" id="adb_return" class="btn btn-outline-success">æ¨¡æ‹Ÿè¿”å›</button></div>
        </div>

        </div>
<!--       èµèµç  -->
        <div class="sysInfo">
            <p id = "diskInfo"></p>
            <p id = "memeryInfo"></p>
        </div>


        <div class="row" align="center" style="margin-top:20px">
            <div class="col-md-12 col-lg-6">
                <img  style="width:40%"  src="/img/pay.png"/>
            </div>
            <div class="col-md-12 col-lg-6">
                æ¥å—ä»»æ„é‡‘é¢æ‰“èµï¼Œæ¬¢è¿ç™½å«–ğŸ˜„
                <br>
                è½¯ä»¶é»˜è®¤è‡ªå¯ï¼Œä¸éœ€è¦é¢å¤–è®¾ç½®,å½“å†…å­˜ä¸è¶³è¯¥åº”ç”¨å¯èƒ½è¢«killæ‰ï¼Œè¯·å†æ¬¡æ‰‹åŠ¨å¼€å¯æˆ–é‡å¯R1
                <br>
                è®¾ç½®å®Œæ¯•ï¼Œè¯·åŠæ—¶å…³é—­æœ¬é¡µé¢ï¼Œä»¥èŠ‚çº¦R1èµ„æºã€‚
            </div>
        </div>
        <div class="col col-lg-2">

        </div>
    </div>

</div>






<script type="text/javascript">
		window.onload = function() {
		    //é…ç½®
		    var config = {
		        vx: 4,	//å°çƒxè½´é€Ÿåº¦,æ­£ä¸ºå³ï¼Œè´Ÿä¸ºå·¦
		        vy: 4,	//å°çƒyè½´é€Ÿåº¦
		        height: 2,	//å°çƒé«˜å®½ï¼Œå…¶å®ä¸ºæ­£æ–¹å½¢ï¼Œæ‰€ä»¥ä¸å®œå¤ªå¤§
		        width: 2,
		        count: 200,		//ç‚¹ä¸ªæ•°
		        color: "121, 162, 185", 	//ç‚¹é¢œè‰²
		        stroke: "130,255,255", 		//çº¿æ¡é¢œè‰²
		        dist: 6000, 	//ç‚¹å¸é™„è·ç¦»
		        e_dist: 20000, 	//é¼ æ ‡å¸é™„åŠ é€Ÿè·ç¦»
		        max_conn: 10 	//ç‚¹åˆ°ç‚¹æœ€å¤§è¿æ¥æ•°
		    }

		    //è°ƒç”¨
		    CanvasParticle(config);
		}
</script>

    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.5.3/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.5.3/js/bootstrap.min.js"></script>
<script>
var cmdUrl =0;

$(function(){

//var a = ;
cmdUrl = window.location.href;
   var start =   cmdUrl.indexOf("://")+3;

   var end =   cmdUrl.indexOf(":",start);

   cmdUrl = cmdUrl.substr(start,end-start);
 console.log(cmdUrl);
})



  $('#screenShot').click(function(event){
      var x = 0; var y = 0;
      y = event.pageY - $("#screenShot").offset().top;
      x = event.pageX - $("#screenShot").offset().left;
      console.log("å·¦"+$("#screenShot").offset().left);
      console.log(event.currentTarget.clientHeight);
      console.log(event.currentTarget.clientHeight/480);
      var rate =  event.currentTarget.clientHeight/480;
      x = Math.round(x/rate);
      y = Math.round(y/rate);
      console.log(x,y);
      var url = "http://"+cmdUrl+":8080/shell?shell=input tap "+x+" "+y;
      myPost(url,"");

  })

  $('#adb_return').click(function(){
      var url = "http://"+cmdUrl+":8080/shell?shell=input keyevent 4";
      myPost(url,"");
  })




  $.ajax({
     url:"/app/getconfig",
     type:"POST",
     data:"",
    success:function(result){
    console.log(result);
    var obj = JSON.parse(result);
    $('#formControlRange').val(obj.bass);
    $('#hiTimeVal').val(obj.hiTime.val);
    $('#hiTimeStartTime').val(obj.hiTime.start);
    $('#hiTimeStopTime').val(obj.hiTime.end);
     $('#hiTimeState').val(obj.hiTime.state);
     $('#value').text(" "+obj.bass/10+"%")
     if(obj.hiTime.state==1){
       $('#hiTimeState').prop("checked",true);
     }
     
    }
})




  $('#hiTimeSetting').click(function(){
       $('.collapse').collapse('toggle');
   })



    $('#formControlRange').change(function(){
      var val = $('#formControlRange').val();
      $('#value').text(" "+val/10+"%");
      console.log(val);

      myPost("/eq/bass",{'val':val});
      $('.toast').toast('show');
    })


   function myPost(getUrl,sedData){
     $.ajax({
     url:getUrl,
     dataType:"jsonp",
     type:"POST",
     data:sedData,
     success:function(result){
     return result;
    }})};


$('#hiTimeState').change(function(){
     console.log('dfsf')
     var state = $('#hiTimeState').val();
     
     if(parseInt(state)==parseInt(1)) 
        $('#hiTimeState').val(0);else{
             $('#hiTimeState').val(1);
        }
    

})

   $('#saveHiTime').click(function(){
    var hiTimeVal =  $('#hiTimeVal').val();
    var hiTimeStartTime =  $('#hiTimeStartTime').val();
    var hiTimeStopTime =  $('#hiTimeStopTime').val();
    var hiTimeState =  $('#hiTimeState').val();
    console.log(hiTimeState);
    if(hiTimeVal==""||hiTimeState==""||hiTimeStopTime==""||hiTimeStartTime==""){
      
      console.log("aaaa");
      $('#modalText').text("è¯·æ£€æŸ¥è¡¨å•ï¼")
      $('#myModal').modal('toggle')
      return;
    }
    var jsonstr = JSON.stringify({'val':hiTimeVal,'start':hiTimeStartTime,'end':hiTimeStopTime,'state':hiTimeState} );
    myPost("/hitime/save",jsonstr);
     $('#modalText').text("ä¿å­˜æˆåŠŸ")
      $('#myModal').modal('toggle')
   })


 $(functionÂ ()Â {
Â Â Â Â Â Â var t =Â timestamp = (new Date()).getTime();
Â Â Â Â Â Â Â Â $("#screen_img").attr("src","/screen?t="+t);
Â Â Â Â Â Â Â Â setInterval(functionÂ ()Â {Â Â 
Â           var t =Â timestamp = (new Date()).getTime();
Â Â Â Â Â Â Â Â Â Â Â $("#screen_img").attr("src","/screen?t="+t);
Â Â Â Â Â Â Â Â },Â 1200);
Â Â Â Â })


var count = 0;

function increment() {
   var result = myPost("/_api/sys/info","");
   console.log(result);
   $('#diskInfo').val(result);
}

setInterval(increment, 2000);

</script>
<script type="text/javascript" src="/js/canvas-particle.js"></script>
</body>
</html>